
<!DOCTYPE html >
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>jquery简单的注册表单验证代码 - 站长素材</title>

<link rel="stylesheet" type="text/css" href="./css/login.css">
<script type="text/javascript" src="js/jquery-2.1.0.min.js"></script>
<script type="text/javascript" src="js/easyform.js"></script>
</head>
<body>
<script type="text/javascript">
		function toregister() {
			var formData = new FormData(reg-form);
			/* formData.append("photo", $("#photo")[0].files[0]);
			formData.append("service", 'App.Passion.UploadFile');
			formData.append("token", token); */
			$.ajax({
				url : 'toregister', /*接口域名地址*/
				type : 'post',
				data : formData,
				contentType : false,
				processData : false,
				success : function(res) {
					if (res.code == 0) {

						window.location.href = 'login.html'
						alert('注册成功');
					} else {
						alert('注册失败');
						history.go(0) 
					}
				}
			});

		}
	</script>
	<br>
	<div class="regist">
		<div class="regist_center">
			<div class="regist_top">
				<div class="left fl">会员注册</div>
				<div class="right fr">
					<a href="./index.html" target="_self">小米商城</a>
				</div>
				<div class="clear"></div>
				<div class="xian center"></div>
			</div>
			<form id="reg-form" action="" method="post">
				<table height="500px">
					<tr>
						<td>用户名</td>
						<td><input name="username" type="text" id="username"
							easyform="length:4-16;char-normal;real-time;"
							message="用户名必须为4—16位的英文字母或数字"
							easytip="disappear:lost-focus;theme:blue;" ajax-message="用户名已存在!">
						</td>
					</tr>
					<tr>
						<td>密码</td>
						<td><input name="password" type="password" id="password"
							easyform="length:6-16;" message="密码必须为6—16位"
							easytip="disappear:lost-focus;theme:blue;"></td>
					</tr>
					<tr>
						<td>确认密码</td>
						<td><input name="repassword" type="password" id="repassword"
							easyform="length:6-16;equal:#password;" message="两次密码输入要一致"
							easytip="disappear:lost-focus;theme:blue;"></td>
					</tr>
					<tr>
						<td>手机号码</td>
						<td><input name="phone" type="text" id="phone"
							easyform="length:11;" message="手机号码格式要正确"
							easytip="disappear:lost-focus;theme:blue;"
							ajax-message="这个Email地址已经被注册过，请换一个吧!"></td>
					</tr>
					<tr>
						<td>email</td>
						<td><input name="email" type="text" id="email"
							easyform="email;real-time;" message="Email格式要正确"
							easytip="disappear:lost-focus;theme:blue;"
							ajax-message="这个Email地址已经被注册过，请换一个吧!"></td>
					</tr>
				</table>

				<div class="buttons">
					<input value="注 册" type="submit" onclick="toregister()"
						style="margin-right: 20px; margin-top: 20px;"> <input
						value="我有账号，我要登录" type="button"
						onclick='location.href=("tologin")'
						style="margin-right: 45px; margin-top: 20px;">
				</div>

				<br class="clear">
			</form>

		</div>
		<footer id="home" th:replace="common/common::commfooter"></footer>
	</div>

	<script type="text/javascript">
		$(document).ready(function() {
			$('#reg-form').easyform();
		});
	</script>
</body>
</html>
